// ==========================================================================
// ChefPro – Dev Container (VS Code)
// ==========================================================================
// Open the project in VS Code → Ctrl+Shift+P → "Dev Containers: Reopen in Container"
// This starts the 3 services (MySQL, Backend, Frontend) and connects VS Code
// to the frontend container for development with hot-reload.
// ==========================================================================
{
  "name": "ChefPro Dev",

  // Uses the docker-compose.yml from the project root
  "dockerComposeFile": "../docker-compose.yml",

  // VS Code connects to the frontend container
  "service": "frontend",
  "workspaceFolder": "/app",

  // Ports accessible from the host browser
  "forwardPorts": [4200, 8081, 3306],
  "portsAttributes": {
    "4200": { "label": "Frontend (Angular)", "onAutoForward": "openBrowser" },
    "8081": { "label": "Backend (Spring Boot)", "onAutoForward": "silent" },
    "3306": { "label": "MySQL", "onAutoForward": "silent" }
  },

  // Install dependencies when creating the container
  "postCreateCommand": "npm install",

  // Recommended extensions inside the container
  "customizations": {
    "vscode": {
      "extensions": [
        "angular.ng-template",
        "esbenp.prettier-vscode",
        "dbaeumer.vscode-eslint",
        "ms-vscode.vscode-typescript-next"
      ],
      "settings": {
        "terminal.integrated.defaultProfile.linux": "sh"
      }
    }
  }
}
